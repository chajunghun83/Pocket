# ğŸ“¦ Pocket ë°±ì—… - 2025ë…„ 12ì›” 31ì¼

> **ì‘ì—… PC**: ì§‘ PC  
> **ì‘ì—… ì‹œê°„**: 12ì›” 31ì¼

---

## âœ… ì˜¤ëŠ˜ ì™„ë£Œí•œ ì‘ì—…

### 1. Supabase ì—°ë™ ì™„ë£Œ ğŸ‰

ëª¨ë“  í˜ì´ì§€ì— Supabase ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.

#### ì—°ë™ëœ í˜ì´ì§€ ë° í…Œì´ë¸”:
| í˜ì´ì§€ | í…Œì´ë¸” | ì„œë¹„ìŠ¤ íŒŒì¼ | ìƒíƒœ |
|--------|--------|-------------|------|
| ê°€ê³„ë¶€ (Budget) | `transactions` | `transactionService.js` | âœ… ì™„ë£Œ |
| ìì‚°ê´€ë¦¬ (Asset) | `assets` | `assetService.js` | âœ… ì™„ë£Œ |
| ë¶€ì±„ê´€ë¦¬ (Debt) | `debts` | `debtService.js` | âœ… ì™„ë£Œ |
| ì£¼ì‹ê´€ë¦¬ (Stock) | `stocks` | `stockService.js` | âœ… ì™„ë£Œ |

#### êµ¬í˜„ëœ ê¸°ëŠ¥:
- **ë°ì´í„° ë¡œë“œ**: í˜ì´ì§€ ë¡œë“œ ì‹œ Supabaseì—ì„œ ìë™ìœ¼ë¡œ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
- **ìë™ ë§ˆì´ê·¸ë ˆì´ì…˜**: DBê°€ ë¹„ì–´ìˆìœ¼ë©´ ë”ë¯¸ ë°ì´í„°ë¥¼ ìë™ìœ¼ë¡œ ì´ê´€
- **CRUD ì—°ë™**: ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ ì‹œ Supabaseì™€ ì‹¤ì‹œê°„ ë™ê¸°í™”
- **ë¡œë”© í‘œì‹œ**: ë°ì´í„° ë¡œë”© ì¤‘ ìŠ¤í”¼ë„ˆ í‘œì‹œ
- **DB ìƒíƒœ í‘œì‹œ**: ê° í˜ì´ì§€ í—¤ë”ì— "DB ì—°ê²°ë¨" ë˜ëŠ” "ë¡œì»¬ ëª¨ë“œ" í‘œì‹œ
- **ì—ëŸ¬ ì²˜ë¦¬**: Supabase ì‹¤íŒ¨ ì‹œ ë¡œì»¬ ë”ë¯¸ ë°ì´í„°ë¡œ fallback
- **React Strict Mode ëŒ€ì‘**: ë§ˆì´ê·¸ë ˆì´ì…˜ ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€ (useRef ì‚¬ìš©)

---

### 2. ìƒˆë¡œ ìƒì„±ëœ íŒŒì¼

#### Supabase ê´€ë ¨:
```
src/lib/
â””â”€â”€ supabase.js          # Supabase í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™”

src/services/
â”œâ”€â”€ transactionService.js # ê°€ê³„ë¶€ CRUD
â”œâ”€â”€ assetService.js       # ìì‚°ê´€ë¦¬ CRUD
â”œâ”€â”€ debtService.js        # ë¶€ì±„ê´€ë¦¬ CRUD
â”œâ”€â”€ stockService.js       # ì£¼ì‹ê´€ë¦¬ CRUD
â””â”€â”€ yahooFinance.js       # Yahoo Finance API (ê¸°ì¡´)

supabase/
â”œâ”€â”€ schema.sql            # ì „ì²´ ìŠ¤í‚¤ë§ˆ (RLS í¬í•¨)
â””â”€â”€ schema-no-auth.sql    # ê°„ì†Œí™” ìŠ¤í‚¤ë§ˆ (ì¸ì¦ ì—†ìŒ)
```

---

### 3. ìˆ˜ì •ëœ í˜ì´ì§€

#### Budget.jsx (ê°€ê³„ë¶€)
- `useState` â†’ `useCallback`, `useRef` ì¶”ê°€
- `transactionService` import
- `loadData()` í•¨ìˆ˜ë¡œ Supabase ë°ì´í„° ë¡œë“œ
- `handleSave`, `handleDelete`, `toggleCompleted` Supabase ì—°ë™
- ë§ˆì´ê·¸ë ˆì´ì…˜ ë¡œì§ ë° ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€
- DB ì—°ê²° ìƒíƒœ UI í‘œì‹œ

#### Asset.jsx (ìì‚°ê´€ë¦¬)
- `assetService` import
- Supabase CRUD ì—°ë™
- ìë™ ë§ˆì´ê·¸ë ˆì´ì…˜
- ë¡œë”© UI ë° DB ìƒíƒœ í‘œì‹œ

#### Debt.jsx (ë¶€ì±„ê´€ë¦¬)
- `debtService` import
- Supabase CRUD ì—°ë™
- ìë™ ë§ˆì´ê·¸ë ˆì´ì…˜
- ë¡œë”© UI ë° DB ìƒíƒœ í‘œì‹œ

#### Stock.jsx (ì£¼ì‹ê´€ë¦¬)
- `stockService` import
- Supabase CRUD ì—°ë™ (ê¸°ë³¸ ì •ë³´ë§Œ, í˜„ì¬ê°€ëŠ” Yahoo Finance)
- ìë™ ë§ˆì´ê·¸ë ˆì´ì…˜
- ë¡œë”© UI ë° DB ìƒíƒœ í‘œì‹œ

---

## ğŸ“Š í˜„ì¬ ì§„í–‰ ìƒí™©

### ì™„ë£Œëœ Phase:
- âœ… Phase 1: í™˜ê²½ ì„¤ì •
- âœ… Phase 2: React í”„ë¡œì íŠ¸ ìƒì„±
- âœ… Phase 3: UI/UX ê°œë°œ (ë”ë¯¸ ë°ì´í„°)
- âœ… Phase 4: Supabase ì—°ë™ â† **ì˜¤ëŠ˜ ì™„ë£Œ!**

### ë‚¨ì€ ì‘ì—…:
- â³ ë¡œê·¸ì¸ ê¸°ëŠ¥ (Supabase Auth)
- â³ Vercel ë°°í¬

---

## ğŸ”§ Supabase ì„¤ì •

### í…Œì´ë¸” ìƒì„± (ì´ë¯¸ ì™„ë£Œ)
Supabase Dashboard â†’ SQL Editorì—ì„œ `schema-no-auth.sql` ì‹¤í–‰ë¨

### í…Œì´ë¸” êµ¬ì¡°:
```sql
-- transactions (ê°€ê³„ë¶€)
- id, type, name, amount, date, is_completed, memo

-- assets (ìì‚°ê´€ë¦¬)
- id, type, amount, date, description

-- debts (ë¶€ì±„ê´€ë¦¬)
- id, type, amount, date, description

-- stocks (ì£¼ì‹ê´€ë¦¬)
- id, market, broker, name, code, quantity, avg_price, currency, memo
```

---

## ğŸŒ ì ‘ì† ì •ë³´

### ë¡œì»¬ ê°œë°œ ì„œë²„
```bash
npm run dev
# http://localhost:3000
```

### Supabase
- í”„ë¡œì íŠ¸ URL: https://gzxbckioutctwxbevqmk.supabase.co
- Dashboard: https://app.supabase.com

### GitHub
- ì €ì¥ì†Œ: https://github.com/chajunghun83/Pocket

---

## ğŸ“ ë‹¤ìŒ ì‘ì—… ì‹œ ì°¸ê³ ì‚¬í•­

### íšŒì‚¬ PCì—ì„œ ì‘ì—… ì‹œ:
1. `git pull` ì‹¤í–‰ (ìµœì‹  ì½”ë“œ ê°€ì ¸ì˜¤ê¸°)
2. `.env` íŒŒì¼ í™•ì¸ (ì—†ìœ¼ë©´ ìƒì„±)
   ```
   VITE_SUPABASE_URL=https://gzxbckioutctwxbevqmk.supabase.co
   VITE_SUPABASE_ANON_KEY=eyJ...
   ```
3. `npm install` (ìƒˆ íŒ¨í‚¤ì§€ê°€ ìˆì„ ìˆ˜ ìˆìŒ)
4. `npm run dev` ì‹¤í–‰

### ì£¼ìš” ë³€ê²½ ì‚¬í•­:
- ì´ì œ ëª¨ë“  ë°ì´í„°ê°€ Supabase í´ë¼ìš°ë“œì— ì €ì¥ë¨
- ì§‘/íšŒì‚¬ ì–´ë””ì„œë“  ê°™ì€ ë°ì´í„° ê³µìœ 
- ë”ë¯¸ ë°ì´í„°ëŠ” ìµœì´ˆ ë§ˆì´ê·¸ë ˆì´ì…˜ìš©ìœ¼ë¡œë§Œ ì‚¬ìš©

---

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„ (ì„ íƒ)

1. **ë¡œê·¸ì¸ ê¸°ëŠ¥** - Supabase Authë¡œ ì‚¬ìš©ì ì¸ì¦
2. **Vercel ë°°í¬** - ì›¹ì—ì„œ ë°”ë¡œ ì ‘ì† ê°€ëŠ¥í•˜ê²Œ

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-12-31

