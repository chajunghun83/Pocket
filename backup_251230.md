# 작업 백업 - 2025년 12월 30일

## 📋 오늘 완료한 작업

### 1. 자산 관리 페이지 (Asset) - 추가/수정/삭제 기능
- **추가 팝업** 구현 (날짜, 구분, 금액, 내용)
- **수정/삭제 버튼** 테이블에 추가
- 날짜 입력: **년/월/일 드롭다운** (년도 포함)
- 테이블 날짜 표시: `25/01/25` 형식
- 금액 입력 시 **천단위 쉼표 자동 처리**
- **+1만원, +10만원, +100만원, 초기화** 버튼

### 2. 부채 관리 페이지 (Debt) - 추가/수정/삭제 기능
- **추가 팝업** 구현 (날짜, 구분, 금액, 내용)
- **수정/삭제 버튼** 테이블에 추가
- 날짜 입력: **년/월/일 드롭다운** (년도 포함)
- 테이블 날짜 표시: `25/01/25` 형식
- 금액 입력 시 **천단위 쉼표 자동 처리**
- **+1만원, +10만원, +100만원, 초기화** 버튼

### 3. 가계부 페이지 (Budget) - 금액 입력 개선
- 금액 입력 시 **천단위 쉼표 자동 처리**
- **+1만원, +10만원, +100만원, 초기화** 버튼 추가

### 4. 주식 관리 페이지 (Stock) - 종목 추가/수정/삭제 기능
- **종목 추가 팝업** 구현
  - 증권사: 드롭다운 (🌳 나무, 💙 토스, 🏦 ISA)
  - 국가: 라디오 버튼 (🇰🇷 국내, 🇺🇸 미국)
  - 종목명 / 종목코드(티커) 입력
  - 매입가: 통화 자동 선택 + 천단위 쉼표
  - 보유수량: 천단위 쉼표
- 차트 헤더에 **수정/삭제 버튼** 추가
- 종목 선택 후 수정/삭제 가능

### 5. 설정 페이지 (Settings) - 예산 목표 옵션
- **예산 목표 사용 여부** 토글 스위치 추가
- 토글 OFF 시 목표 금액 설정 영역 숨김
- 가계부 페이지에서 조건부 표시 (4열 ↔ 5열)

### 6. SettingsContext 개선
- `useBudgetGoal` 설정 추가 (기본값: true)
- localStorage 설정 **병합 로직** 개선
  - 새로운 설정 키 추가 시 기본값 자동 적용

---

## 📁 수정된 파일 목록

```
src/
├── context/
│   └── SettingsContext.jsx    # useBudgetGoal 추가, 병합 로직
├── pages/
│   ├── Asset.jsx              # 추가/수정/삭제 팝업, 년도 선택
│   ├── Debt.jsx               # 추가/수정/삭제 팝업, 년도 선택
│   ├── Budget.jsx             # 금액 쉼표 처리, 예산목표 조건부
│   ├── Stock.jsx              # 종목 추가/수정/삭제 기능
│   └── Settings.jsx           # 예산 목표 사용 토글
```

---

## 🎯 주요 UI 변경사항

### 금액 입력 공통 적용
```
[   금액 입력란: 1,500,000   ]
[+1만원] [+10만원] [+100만원] [초기화]
```
- 적용 페이지: 자산 관리, 부채 관리, 가계부

### 날짜 입력 (자산/부채 관리)
```
[2025년 ▼] [1월 ▼] [25일 ▼]
```

### 주식 종목 추가 팝업
```
┌─────────────────────────────────────────────┐
│ 종목 추가                              [X] │
├─────────────────────────────────────────────┤
│ 증권사: [🌳 나무증권 ▼]                     │
│ 국가:   ○ 🇰🇷 국내    ○ 🇺🇸 미국            │
│ 종목명: [          ] 코드: [         ]     │
│ 매입가: [87,500                      ]     │
│ 수량:   [100                         ]     │
├─────────────────────────────────────────────┤
│         [닫기]        [추가 완료]           │
└─────────────────────────────────────────────┘
```

### 예산 목표 설정
```
┌─────────────────────────────────────────────┐
│ 예산 목표 사용                    [●───]   │  ← 토글 OFF 가능
│ 가계부에서 지출 진행률 표시                 │
├─────────────────────────────────────────────┤
│ (토글 ON 시에만 표시)                       │
│ 월 지출 목표: [2,000,000 원]                │
│ [+1만] [+10만] [+100만] [초기화]            │
└─────────────────────────────────────────────┘
```

---

## 🚀 다른 PC에서 시작하는 방법

### 1단계: 최신 코드 가져오기
```bash
cd D:\work\Pocket   # 또는 C:\work\Pocket
git pull
```

### 2단계: 패키지 설치 (처음 한 번만)
```bash
npm install
```

### 3단계: .env 파일 확인
`.env` 파일이 없으면 `env-template.txt` 참고해서 생성

### 4단계: 개발 서버 실행
```bash
npm run dev
```

### 5단계: 브라우저에서 확인
`http://localhost:3000` 접속

---

## ⏭️ 다음 작업 (TODO)

### Supabase 연동
- [ ] 로그인 기능 구현 (Supabase Auth)
- [ ] 가계부 데이터 CRUD
- [ ] 부채 관리 데이터 CRUD
- [ ] 주식 관리 데이터 CRUD
- [ ] 자산 관리 데이터 CRUD

### 기능 구현
- [ ] 체크박스 토글 기능 (완료 여부)
- [ ] 가계부 월 선택 시 데이터 연동
- [ ] 종목 검증 기능 (자동완성 or API)

### 주식 기능
- [ ] 야후 파이낸스 API 연동 (실제 주가)
- [ ] 환율 정보 실시간 조회

---

## 🔗 링크

- **GitHub**: https://github.com/chajunghun83/Pocket
- **Supabase**: https://gzxbckioutctwxbevqmk.supabase.co
- **로컬 개발**: http://localhost:3000

---

*작성일: 2025-12-30*
*마지막 업데이트: 2025-12-30 저녁*
